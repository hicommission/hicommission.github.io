<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Self-Help Portal</title>
    <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js"></script>    
    <script type="text/javascript" src="js/app.js"></script>    
  </head>
  <body>
    <div class="banner">
      <h1>Self-Help Portal</h1>
    </div>
  <div id="page">
    <div id="maincontent">
        <div id="firstcontent">This is an nteractive web-based platform for youth in our world to interact with others from their hometown in the diaspora, also for direct mentoring and coaching provided to the youth by professionals and volunteers who've excelled in diverse fields of praxis and then a platform where internship and scholarship and training / job opportunities can be announced and targeted to benefit youth from home</div>
        <div id="secondcontent"><h2>Join the Group</h2>
        <input type='text' id='messageInput'  placeholder='Enter your email address and cell phone number...'>
        <button type="button" onclick="savedata()">Submit</button>
        <br><br><br>
    <hr>
    </div>
        <!--div id="thirdcontent">This view will be for us and admins only<h2>Join the Group</h2>
    <input type='text' id='messageInput'  placeholder='Enter your email address and cell phone number...'>
    <button type="button" onclick="savedata()">Save Data</button>
    <br><br><br>
    <hr-->
    <h2>WhatsApp Group Members</h2>
    <textarea rows="10" cols="50" id="results"></textarea>
    <script>
    var messagesRef = new Firebase('https://tribeofjudah-9c61f.firebaseio.com/jude');

    var messageField = document.getElementById('messageInput');
    var messageResults = document.getElementById('results');

    // Save data to firebase
    function savedata(){
      var message = messageField.value;

      messagesRef.push({fieldName:'messageField', text:message});
      messageField.value = '';
    }

    // Update results when data is added
    messagesRef.limitToLast(10).on('child_added', function (snapshot) {
        var data = snapshot.val();
        console.log(snapshot.val());
        var message = data.text;

        if (message != undefined)
        {
          messageResults.value += '\n' + message;
        }
    });
    </script>
</div>
    </div>
    <div id="menuleftcontent">
        <ul id="menu">
            <li><a href="#firstcontent">What We Do to Help</a></li>
            <li><a href="#secondcontent">I Want to Join</a></li>
            <li><a href="#thirdcontent">Review the Group</a></li>
        </ul>
    </div>
    <div id="clearingdiv"></div>
</div>  
  </body>
</html>
